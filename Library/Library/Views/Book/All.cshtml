@model ICollection<AllBookViewModel>

@{
	ViewBag.Title = "All Books";
}

<h2 class="text-center">@ViewBag.Title</h2>
<hr />

<div class="text-center row">
	@foreach (var book in Model)
	{
		<div class="card col-4" style="width: 20rem; ">
			<img class="card-img-top" style="width: 18rem;"
				 src="@book.ImageUrl" alt="Book Image">
			<div class="card-body">

				<h5 class="card-title mt-1">@book.Title</h5>
				<p class="mb-0">Author: @book.Author</p>
				<p class="mb-0">Rating: @book.Rating</p>
				<p>Category: @book.Category</p>
			</div>

			<form class="input-group-sm" asp-controller="Book" asp-action="AddToCollection" asp-route-id="@book.Id">
				<input type="submit" value="Add to Collection" class="fs-6 btn btn-success mb-3 p-2" />
				<div class="btn-group" role="group" aria-label="More actions">
					<a class="fs-6 btn btn-warning mb-3 p-2" asp-controller="Book" asp-action="Edit" asp-route-id="@book.Id">Edit Book</a>
					<!-- Button trigger modal -->
					<a class="fs-6 btn btn-danger mb-3 p-2"
					   data-bs-toggle="modal" data-bs-target="#exampleModal" asp-controller="Book" asp-action="Delete" asp-route-id="@book.Id">Delete Book</a>
				</div>
			</form>

			<!-- Modal -->
			<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<div class="modal-body">
							Are You sure, you want to delete this book?
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
							<a type="button" class="btn btn-danger" asp-controller="Book" asp-action="Delete" asp-route-id="@book.Id">Delete</a>
						</div>
					</div>
				</div>
			</div>

		</div>
	}
</div>
